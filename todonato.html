<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskPro</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* just for demo */
    section { display: none; }
    section.active { display: block; }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="logo">ToDoNaTo</h2>
    <nav>
      <ul>
        <li class="active"><a href="#" data-page="tasks">Tasks</a></li>
        <li><a href="#" data-page="goals">Finished</a></li>
        <li><a href="#" data-page="dashboard">Dashboard</a></li>
        <li><a href="#" data-page="calendar">Calendar</a></li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <a href="#">Settings</a>
      <a href="#">Log Out</a>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main">
    <!-- Header -->
    <header class="main-header">
      <input type="text" placeholder="Search">
      <div class="user-info">
        Aaron Creed
      </div>
    </header>

    <!-- Pages -->
    <section id="tasks" class="active">
      <div class="tasks-header">
        <h2>My Tasks</h2>
        <div class="view-toggle">
          <button class="add-task">+</button>
        </div>
      </div>

      <!-- Add Task Form -->
      <form id="taskForm" style="margin:1rem 0; display:none;">
        <input type="text" id="taskName" placeholder="Task name" required>
        <input type="date" id="taskDate" required>
        <button type="submit">Add Task</button>
      </form>

      <!-- List View -->
      <div class="list-view-container">
        <div class="task-group" id="todo">
          <h3>To Do</h3>
        </div>
        
    </section>

    <section id="dashboard">
      <h2>Dashboard</h2>
      <div class="stats">
        <div class="card">üìã Total Tasks: <span id="totalTasks">0</span></div>
        <div class="card">‚úÖ Completed: <span id="completedTasks">0</span></div>
        <div class="card">‚è≥ Pending: <span id="pendingTasks">0</span></div>
      </div>
    </section>

    <section id="goals">
      <h2>Finished Tasks</h2>
      <p>Here's the content for the tasks</p>
      <div class="task-group" id="done">
          <h3>Done</h3>
        </div>
      </div>
    </section>

    <section id="calendar">
      <h2>Task Calendar</h2>
      <div id="calendarContainer">
        <p>[Calendar will be displayed here]</p>
      </div>
    </section>
  </main>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    // Sidebar navigation
    const links = document.querySelectorAll("aside nav ul li a");
    const sections = document.querySelectorAll("main section");

    links.forEach(link => {
      link.addEventListener("click", (e) => {
        e.preventDefault();

        // Remove active class from all sidebar links
        links.forEach(l => l.parentElement.classList.remove("active"));
        // Add active to clicked
        link.parentElement.classList.add("active");

        // Hide all sections
        sections.forEach(sec => sec.classList.remove("active"));
        // Show the clicked section
        const pageId = link.getAttribute("data-page");
        document.getElementById(pageId).classList.add("active");
      });
    });

    // === Tasks logic ===
    const taskForm = document.getElementById("taskForm");
    const addTaskBtn = document.querySelector(".add-task");
    const taskName = document.getElementById("taskName");
    const taskDate = document.getElementById("taskDate");
    const todoList = document.getElementById("todo");
    const totalTasksEl = document.getElementById("totalTasks");
    const completedTasksEl = document.getElementById("completedTasks");
    const pendingTasksEl = document.getElementById("pendingTasks");

    let totalTasks = 0;
    let completedTasks = 0;

    // Toggle form display
    addTaskBtn.addEventListener("click", () => {
  if (taskForm.style.display === "none") {
    taskForm.style.display = "block";

    // Auto-set today's date
    const today = new Date().toISOString().split("T")[0];
    taskDate.value = today;
  } else {
    taskForm.style.display = "none";
  }
});
    

    // Handle form submit
    // Handle form submit
taskForm.addEventListener("submit", (e) => {
  e.preventDefault();

  const taskItem = document.createElement("div");
  taskItem.classList.add("task-item");
  taskItem.innerHTML = `
    <input type="checkbox">
    <span>${taskName.value}</span>
    <span class="date">${taskDate.value}</span>
  `;

  const checkbox = taskItem.querySelector("input[type=checkbox]");
  checkbox.addEventListener("change", () => {
    if (checkbox.checked) {
      completedTasks++;
      document.getElementById("done").appendChild(taskItem); // ‚úÖ move to Finished
    } else {
      completedTasks--;
      todoList.appendChild(taskItem); // ‚¨ÖÔ∏è move back to To Do if unchecked
    }
    updateDashboard();
  });

  todoList.appendChild(taskItem);

  totalTasks++;
  updateDashboard();

  taskForm.reset();
  taskForm.style.display = "none";
});


    function updateDashboard() {
      totalTasksEl.textContent = totalTasks;
      completedTasksEl.textContent = completedTasks;
      pendingTasksEl.textContent = totalTasks - completedTasks;
    }
  });
  </script>
</body>
</html>
